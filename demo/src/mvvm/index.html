<html>
  <head>
    <title>mvvm</title>
  </head>
  <body>
    <div id="app">
      <input type="text" v-model="word"/>
      <p>{{word}}</p>
      <button v-on:click="sayHi">change model</button>
      <p>{{msg.name}}</p>
      <p>{{msg.age}}</p>
      <button v-on:click="alertMsg">change msg</button>
    </div>
    <script src="js/compile.js"></script>
    <script src="js/mvvm.js"></script>
    <script src="js/observer.js"></script>
    <script src="js/watcher.js"></script>
    <script>
      var vm = new MVVM({
        el: '#app',
        data: {
          word: 'Hello World!',
          msg: {
            name: 'haipa',
            age: 20
          }
        },
        methods: {
          sayHi: function () {
            this.word = 'Hi, everybody!';

            // setTimeout(() => {
            //   this.word = '3ä¸ª'
            // }, 1000)
          },
          alertMsg: function () {
            this.msg.name = 'xxx'
            this.msg.age = 30
          }
        }
      })

      function add (x) {
        var sum = x;
        var temp = function (y) {
          sum += y;
          return temp;
        }

        temp.toString = function () {
          return sum;
        }
        return temp
      }

      // console.log(add(2)(3) + 1)
      function getSomething (){
        return 'something'
      }
      async function testAsync () {
        return Promise.resolve('hello')
      }

      async function test(){
        const v1 = await getSomething()
        const v2 = await testAsync()
        console.log(v1, v2)
      }
      test()
    </script>
  </body>
</html>